{"version":3,"file":"01-timer.js","sources":["../src/js/01-timer.js"],"sourcesContent":["// Flatpickr'ı input'a bağla\r\nflatpickr('#datetime-picker', {\r\n  enableTime: true, // Saat seçimini aç\r\n  dateFormat: 'Y-m-d H:i', // Tarih formatı\r\n  time_24hr: true, // 24 saat formatı kullan\r\n  position: 'below', // Takvimi input'un altına sabitle\r\n});\r\n\r\nconst startBtn = document.querySelector('[data-start');\r\nconst daysSpan = document.querySelector('[data-days]');\r\nconst hoursSpan = document.querySelector('[data-hours]');\r\nconst minutesSpan = document.querySelector('[data-minutes]');\r\nconst secondsSpan = document.querySelector('[data-seconds]');\r\n\r\n// Kullanıcının seçtiği tarih burada tutulacak\r\nlet userSelectedDate = null;\r\nlet countdownInterval = null;\r\n\r\n//  \"Start\" butonu başlangıçta devre dışı olmalı\r\nstartBtn.disabled = true;\r\n\r\nconst options = {\r\n  enableTime: true,\r\n  time_24hr: true,\r\n  defaultDate: new Date(),\r\n  minuteIncrement: 1,\r\n  onClose(selectedDates) {\r\n    userSelectedDate = selectedDates[0]; //seçilen tarih değişkene atanıyor\r\n\r\n    if (userSelectedDate <= new Date()) {\r\n      //Eğer geçmiş bir tarih seçildiyse\r\n      //   window.alert(\"Please choose a date in the future\");\r\n      iziToast.error({\r\n        title: 'Hata',\r\n        message: 'Please choose a date in the future',\r\n        position: 'topRight',\r\n        timeout: 3000, // 3 saniye sonra kapanır\r\n      });\r\n      startBtn.disabled = true; //butonu devre dışoı bırak\r\n    } else {\r\n      startBtn.disabled = false; // Gelecekteki tarih seçildiyse butonu etkinleştir\r\n    }\r\n  },\r\n};\r\n\r\n//Flatpickr tarih seçiciyi input'a bağlıyoruz\r\nflatpickr('#datetime-picker', options);\r\n\r\n//geri sayımı başlatıyoruz\r\nstartBtn.addEventListener('click', () => {\r\n  if (!userSelectedDate) return;\r\n\r\n  startBtn.disabled = true; // Başlatınca butonu devre dışı bırak\r\n\r\n  countdownInterval = setInterval(() => {\r\n    const now = new Date();\r\n    const timeLeft = userSelectedDate - now;\r\n\r\n    if (timeLeft <= 0) {\r\n      clearInterval(countdownInterval);\r\n      return;\r\n    }\r\n\r\n    //Kalan zamanı hesaplayıp ekrana yazdır\r\n    const { days, hours, minutes, seconds } = convertMs(timeLeft);\r\n\r\n    daysSpan.textContent = addLeadingZero(days);\r\n    hoursSpan.textContent = addLeadingZero(hours);\r\n    minutesSpan.textContent = addLeadingZero(minutes);\r\n    secondsSpan.textContent = addLeadingZero(seconds);\r\n  }, 1000);\r\n});\r\n\r\n//lmsden alınan Milisaniyeyi gün, saat, dakika ve saniyeye çeviren fonksiyon\r\nfunction convertMs(ms) {\r\n  const second = 1000;\r\n  const minute = second * 60;\r\n  const hour = minute * 60;\r\n  const day = hour * 24;\r\n\r\n  const days = Math.floor(ms / day);\r\n  const hours = Math.floor((ms % day) / hour);\r\n  const minutes = Math.floor(((ms % day) % hour) / minute);\r\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\r\n\r\n  return { days, hours, minutes, seconds };\r\n}\r\n\r\nfunction addLeadingZero(value) {\r\n  return String(value).padStart(2, '0'); // 1 → 01 gibi formatlama\r\n}\r\n"],"names":["startBtn","daysSpan","hoursSpan","minutesSpan","secondsSpan","userSelectedDate","countdownInterval","options","selectedDates","timeLeft","days","hours","minutes","seconds","convertMs","addLeadingZero","ms","value"],"mappings":"uFACA,UAAU,mBAAoB,CAC5B,WAAY,GACZ,WAAY,YACZ,UAAW,GACX,SAAU,OACZ,CAAC,EAED,MAAMA,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EAG3D,IAAIC,EAAmB,KACnBC,EAAoB,KAGxBN,EAAS,SAAW,GAEpB,MAAMO,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBH,EAAmBG,EAAc,CAAC,EAE9BH,GAAoB,IAAI,MAG1B,SAAS,MAAM,CACb,MAAO,OACP,QAAS,qCACT,SAAU,WACV,QAAS,GACjB,CAAO,EACDL,EAAS,SAAW,IAEpBA,EAAS,SAAW,EAEvB,CACH,EAGA,UAAU,mBAAoBO,CAAO,EAGrCP,EAAS,iBAAiB,QAAS,IAAM,CAClCK,IAELL,EAAS,SAAW,GAEpBM,EAAoB,YAAY,IAAM,CAEpC,MAAMG,EAAWJ,EADL,IAAI,KAGhB,GAAII,GAAY,EAAG,CACjB,cAAcH,CAAiB,EAC/B,MACD,CAGD,KAAM,CAAE,KAAAI,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAQ,EAE5DR,EAAS,YAAcc,EAAeL,CAAI,EAC1CR,EAAU,YAAca,EAAeJ,CAAK,EAC5CR,EAAY,YAAcY,EAAeH,CAAO,EAChDR,EAAY,YAAcW,EAAeF,CAAO,CACjD,EAAE,GAAI,EACT,CAAC,EAGD,SAASC,EAAUE,EAAI,CAMrB,MAAMN,EAAO,KAAK,MAAMM,EAAK,KAAG,EAC1BL,EAAQ,KAAK,MAAOK,EAAK,MAAO,IAAI,EACpCJ,EAAU,KAAK,MAAQI,EAAK,MAAO,KAAQ,GAAM,EACjDH,EAAU,KAAK,MAASG,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAN,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASE,EAAeE,EAAO,CAC7B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACtC"}